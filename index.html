<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>전기의 이용 학습지</title>
  <!-- Pretendard 폰트 로드 -->
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-color: #f0f4f8;
      display: flex;
      justify-content: center; /* 화면을 가로축 가운데에 위치 */
      align-items: center; /* 화면을 세로축 가운데에 위치 */
      min-height: 100vh; /* 화면 전체 높이를 차지 */
      padding: 1rem;
    }
    .worksheet-container {
      background-color: #ffffff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 900px;
      margin-top: 2rem;
      display: flex; /* flexbox를 사용하여 내부 요소 정렬 */
      flex-direction: column;
      align-items: center;
    }
    .header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 2rem;
      gap: 1rem;
      flex-wrap: wrap;
      width: 100%; /* 너비를 100%로 설정하여 테이블 너비와 맞춤 */
    }
    .header input {
      padding: 0.5rem;
      border: 2px solid #e2e8f0;
      border-radius: 0.5rem;
      background-color: #fafafa;
      flex: 1 1 100px;
      min-width: 100px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1.25rem;
      table-layout: fixed; /* 고정 테이블 레이아웃 */
    }
    th, td {
      padding: 0.75rem;
      border: 1px solid #e2e8f0;
      text-align: center;
    }
    /* 각 열의 너비 지정 */
    .col-num { width: 10%; }
    .col-term { width: 25%; }
    .col-meaning { width: 55%; }
    .col-page { width: 10%; }

    th {
      background-color: #d1e5ff;
      font-weight: bold;
    }
    td input {
      width: 100%;
      text-align: center;
      background-color: transparent;
      border: none;
      font-family: inherit;
      font-size: inherit;
      outline: none;
    }
    .page-cell {
      white-space: nowrap; /* 텍스트가 한 줄로 표시되도록 설정 */
    }
    .submit-button {
      background-color: #4CAF50;
      color: white;
      padding: 1rem 2rem;
      font-size: 1.25rem;
      border: none;
      border-radius: 0.75rem;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      margin-top: 2rem;
    }
    .submit-button:hover {
      background-color: #45a049;
      transform: translateY(-2px);
    }
    .submit-button:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .canvas-container {
      display: none;
    }
    .capture-area {
      position: relative;
      border: 2px dashed #ccc;
      padding: 1rem;
      border-radius: 1rem;
      width: 100%; /* 너비를 100%로 설정하여 부모 요소에 맞춤 */
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class="bg-gray-100 flex justify-center items-start min-h-screen p-4">

<div id="worksheet" class="worksheet-container">
  <h1 class="text-3xl font-bold text-center mb-6">초등학교 6학년 2학기 과학 - 1단원 전기의 이용 주요 용어 정리</h1>
  
  <!-- 상단 정보 입력 칸 -->
  <div class="header">
    <label class="flex items-center gap-2">
      <span class="text-lg">학년:</span>
      <input type="text" placeholder="6학년" class="w-24">
    </label>
    <label class="flex items-center gap-2">
      <span class="text-lg">반:</span>
      <input type="text" placeholder="반" class="w-16">
    </label>
    <label class="flex items-center gap-2">
      <span class="text-lg">번호:</span>
      <input type="text" placeholder="번호" class="w-16">
    </label>
    <label class="flex items-center gap-2">
      <span class="text-lg">이름:</span>
      <input type="text" placeholder="이름" class="w-32">
    </label>
  </div>

  <div class="capture-area">
    <!-- 학습지 표 -->
    <table>
      <thead>
        <tr>
          <th class="col-num">번호</th>
          <th class="col-term">용어</th>
          <th class="col-meaning">용어의 뜻</th>
          <th class="col-page">페이지</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="col-num">1</td>
          <td class="col-term">
            <input type="text" data-answer="전구">
          </td>
          <td class="text-left col-meaning">전기가 흐르면 불이 켜지는 장치</td>
          <td class="page-cell col-page">16쪽</td>
        </tr>
        <tr>
          <td class="col-num">2</td>
          <td class="col-term">
            <input type="text" data-answer="전지">
          </td>
          <td class="text-left col-meaning">전기 회로에 전기가 흐르도록 하는 장치, 볼록하게 튀어나온 쪽이 (+)극, 평평한 쪽이 (-)극</td>
          <td class="page-cell col-page">16쪽</td>
        </tr>
        <tr>
          <td class="col-num">3</td>
          <td class="col-term">
            <input type="text" data-answer="스위치">
          </td>
          <td class="text-left col-meaning">전기 부품끼리의 연결을 이을 수도 있고 끊을 수도 있는 장치</td>
          <td class="page-cell col-page">16쪽</td>
        </tr>
        <tr>
          <td class="col-num">4</td>
          <td class="col-term">
            <input type="text" data-answer="전기회로">
          </td>
          <td class="text-left col-meaning">전지, 전선, 전구와 같은 전기 부품을 연결하여 전기가 흐를 수 있도록 만든 것</td>
          <td class="page-cell col-page">17쪽</td>
        </tr>
        <tr>
          <td class="col-num">5</td>
          <td class="col-term">
            <input type="text" placeholder="전구의 OOOO" data-answer="전구의 직렬연결">
          </td>
          <td class="text-left col-meaning">전기 회로에서 전기가 흐르는 하나의 길에 두 개 이상의 전구를 연결하는 방법</td>
          <td class="page-cell col-page">21쪽</td>
        </tr>
        <tr>
          <td class="col-num">6</td>
          <td class="col-term">
            <input type="text" placeholder="전구의 OOOO" data-answer="전구의 병렬연결">
          </td>
          <td class="text-left col-meaning">전기가 흐르는 길이 두 개 이상으로 갈라지고 각 길에 전구를 한 개씩 연결하는 방법</td>
          <td class="page-cell col-page">21쪽</td>
        </tr>
        <tr>
          <td class="col-num">7</td>
          <td class="col-term">
            <input type="text" data-answer="전자석">
          </td>
          <td class="text-left col-meaning">전기가 흐르는 전선 주위에 자석의 성질이 나타는 현상을 이용하여 만든 자석</td>
          <td class="page-cell col-page">22쪽</td>
        </tr>
        <tr>
          <td class="col-num">8</td>
          <td class="col-term">
            <input type="text" placeholder="전기 OO" data-answer="전기 안전">
          </td>
          <td class="text-left col-meaning">전기로 인한 감전, 화상, 화재 등이 일어나지 않도록 전기 에너지를 안전하게 사용하는 것</td>
          <td class="page-cell col-page">26쪽</td>
        </tr>
        <tr>
          <td class="col-num">9</td>
          <td class="col-term">
            <input type="text" placeholder="전기 OO" data-answer="전기 절약">
          </td>
          <td class="text-left col-meaning">꼭 필요한 것 이상으로 전기 에너지를 사용하지 않는 것</td>
          <td class="page-cell col-page">26쪽</td>
        </tr>
        <tr>
          <td class="col-num">10</td>
          <td class="col-term">
            <input type="text" data-answer="발명품">
          </td>
          <td class="text-left col-meaning">아직까지 없었던 물건을 새로 생각하여 만들어 낸 것</td>
          <td class="page-cell col-page">28쪽</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- 이미지 생성 버튼을 학습지 아래에 배치 -->
  <button class="submit-button" onclick="generateImage()">제출용 이미지 생성</button>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  // DOMContentLoaded 이벤트 리스너를 추가하여 HTML 요소가 완전히 로드된 후에 스크립트가 실행되도록 합니다.
  document.addEventListener('DOMContentLoaded', () => {
    const inputs = document.querySelectorAll('input[type="text"]');
    
    // placeholder를 힌트로 사용
    inputs.forEach(input => {
      // 5, 6, 8, 9번은 초기 placeholder를 유지
      const originalPlaceholder = input.getAttribute('data-answer');
      if (originalPlaceholder === '전구의 직렬연결' || originalPlaceholder === '전구의 병렬연결') {
          input.placeholder = '전구의 OOOO';
      } else if (originalPlaceholder === '전기 안전' || originalPlaceholder === '전기 절약') {
          input.placeholder = '전기 OO';
      } else {
          input.placeholder = '';
      }
      
      // 입력 칸에 포커스가 가면 placeholder를 지웁니다.
      input.addEventListener('focus', (e) => {
        e.target.placeholder = '';
      });
      // 입력 칸에서 포커스가 벗어나면 placeholder를 원래대로 복구합니다.
      input.addEventListener('blur', (e) => {
        if (e.target.value.trim() === '') {
          const originalPlaceholder = e.target.getAttribute('data-answer');
          if (originalPlaceholder === '전구의 직렬연결' || originalPlaceholder === '전구의 병렬연결') {
              e.target.placeholder = '전구의 OOOO';
          } else if (originalPlaceholder === '전기 안전' || originalPlaceholder === '전기 절약') {
              e.target.placeholder = '전기 OO';
          } else {
              e.target.placeholder = '';
          }
        }
      });
    });
  });

  // 이미지 생성 함수
  function generateImage() {
    // 이미지를 생성할 영역을 선택합니다.
    const element = document.getElementById('worksheet');
    
    // 모든 입력 칸의 현재 값을 placeholder로 설정하여 이미지에 보이도록 합니다.
    const inputs = element.querySelectorAll('input[type="text"]');
    inputs.forEach(input => {
      if (input.value.trim() !== '') {
        input.setAttribute('placeholder', input.value);
        input.value = ''; // 이미지 캡처 시 현재 값을 placeholder로 대체
      }
    });

    html2canvas(element, {
      scale: 2, // 고해상도 이미지 생성을 위해 스케일 조정
      backgroundColor: '#ffffff' // 배경색을 흰색으로 지정
    }).then(canvas => {
      // 캔버스를 이미지 URL로 변환합니다.
      const image = canvas.toDataURL('image/png');
      
      // 사용자에게 다운로드할 수 있도록 링크를 생성합니다.
      const link = document.createElement('a');
      link.href = image;
      link.download = '전기의_이용_학습지_완성.png';
      
      // 링크를 클릭하여 다운로드를 시작합니다.
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // 입력 칸의 원래 상태를 복구합니다.
      inputs.forEach(input => {
        const originalPlaceholder = input.getAttribute('data-answer');
        if (originalPlaceholder === '전구의 직렬연결' || originalPlaceholder === '전구의 병렬연결') {
            input.placeholder = '전구의 OOOO';
        } else if (originalPlaceholder === '전기 안전' || originalPlaceholder === '전기 절약') {
            input.placeholder = '전기 OO';
        } else {
            input.placeholder = '';
        }
      });
    });
  }
</script>

</body>
</html>



